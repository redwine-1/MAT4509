\lstset{ %
    language=R,                     % Code language
    basicstyle=\ttfamily\footnotesize, % Code font
    numbers=left,                   % Line numbers on the left
    stepnumber=1,                   % Line number step size
    numbersep=5pt,                  % Space between line numbers and code
    backgroundcolor=\color{lightgray!20}, % Background color for code block
    showspaces=false,               % Show spaces
    showstringspaces=false,         % Don't show spaces in strings
    tabsize=4,                      % Tab size
    breaklines=true,                % Line breaking
    breakatwhitespace=false,        % Don't break at whitespaces only
    keywordstyle=\color{teal},        % Keywords color (calm but stands out)
    commentstyle=\color{olive},       % Comment color (subtle but readable)
    stringstyle=\color{magenta},
    numbers=none,
    frame=single
}